{
  "log": [
    "HTTP+"
  ],
  "adminInterface": ":4985",
  "interface": ":4984",
  "databases": {
    "db": {
      "bucket": "fleet-prod",
      "username": "fleet-prod",
      "password": "123456",
      "server": "http://couchbaseserver:8091",
      "enable_shared_bucket_access": true,
      "import_docs": "continuous",
      "users": {},
      "sync": "function sync_func(n,e){function a(n,e,a){var o=t(n,e);n.channels=[];var i=d(o);n.channels.push(i);var c=r(a.company_id);n.channels.push(c);var f=s(a.company_id);n.channels.push(f);var y=u(a.company_id);switch(n.channels.push(y),a.action){case w:case b:var l=m(n,e,a.company_id);role([o],l),access([o],[i]),access([o],[c]),access([o],[f]),access([o],[y])}channel([i])}function t(n,e){var t=e?e.sync_user:n.sync_user;if(!t)throw{forbidden:'Document must have user'};if(Array.isArray(a))throw{forbidden:'It can only have one user'};return t}function o(n,e){var a=n?n.date:e.date;if(!(a=!a&&e?e.date:a))throw{forbidden:'Document must have a date'};if(isNaN(Date.parse(a)))throw{forbidden:'Document must have a date ISO8601 valid format'};return a}function i(n,e){var a=n.location;if(a){if(isNaN(a.lon)||isNaN(a.lat))throw{forbidden:'location lat and lon must be a float values'};return a}throw{forbidden:'Document must have a location'}}function c(n,e){if(!n.name||'string'!=typeof n.name)throw{forbidden:'Document must have a name'}}function r(n){return y+N+n}function s(n){return h+N+n}function u(n){return _+N+n}function d(n){return l+N+n}function f(n,e){var a=Date.parse(e);if(isNaN(a))throw{forbidden:'Document must have a date ISO8601 valid format'};var t=''+(e=new Date(a)).getFullYear()+('0'+(e.getMonth()+1)).slice(-2)+('0'+e.getDate()).slice(-2);return p+N+n+N+t}function m(n,e,a){var t=e?e.roles:n.roles,o=[];if(t&&Array.isArray(t))for(var i=0;i<t.length;i++)o[i]='role:'+a+g+t[i];else o[0]='role:default';return o}if(!n._deleted||n.type||e){var y='company',l='user',p='mission',h='mission_status_type',_='mission_status_action',v={company:function(n,e,a){var t=r(a.company_id);switch(a.action){case w:case b:c(n,e)}channel([t])},user:a,mission:function(n,e,a){var r=t(n,e);requireUser(r);var s=f(r,o(n,e));switch(a.action){case w:case b:i(n,e),c(n,e),access([r],[s])}channel([s])},missions_placeholder:function(n,e,a){var i=t(n,e);requireUser(i);var c=f(i,o(n,e));switch(a.action){case w:case b:access([i],[c])}channel([c])},mission_status_type:function(n,e,a){var t=s(a.company_id);channel([t])},mission_status_action:function(n,e,a){var t=u(a.company_id);channel([t])},mission_status:'',track:function(n,e,a){},current_location:function(n,e,a){var o=t(n,e);switch(a.action){case b:case w:var i=d(o);channel([i])}},metadata:''},w='creating',b='updating',D='deleting',g='.',N=':',k={type:'unknow',action:'unknow',role:'unknow',company_id:'unknow'};k.type=function(n,e){var a=e?e.type:n.type;if(!a||!v[a])throw{forbidden:'Unknown document type'};if(e&&n&&e.type!==n.type&&!0!==n._deleted)throw{forbidden:'Document type cannot be modify'};return a}(n,e),k.action=function(n,e){return e?n._deleted?D:b:w}(n,e),k.company_id=function(n,e,a){return'company'===a?e?e._id:n._id:e?e.company_id:n.company_id}(n,e,k.type),k.role=function(n,e,a){return n+g+e+g+a}(k.company_id,k.type,k.action),requireRole(k.role),function(n,e,a){if('company'!==a){if(!(e?e.company_id:n.company_id))throw{forbidden:'Document must have a company_id'};if(n&&e&&n.company_id&&e.company_id&&n.company_id!=e.company_id)throw{forbidden:'Document ID cannot be modify'}}}(n,e,k.type),v[k.type](n,e,k)}}"
    }
  }
}
